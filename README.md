# Messenger (Sprint 3)

Учебный проект в рамках курса «Мидл фронтенд-разработчик» от Яндекс Практикума.  
Проект представляет собой полнофункциональный мессенджер с real-time общением, реализованный с использованием **TypeScript**, **Handlebars** и **Vite**.

## Реализованная функциональность

### Sprint 1
- Настройка сборки проекта
- Создание структуры проекта
- Разработка шаблонов страниц
- Базовая навигация между страницами

### Sprint 2
- Базовые классы для архитектуры (Block, EventBus, HTTPTransport)
- Компонентный подход
- Работа с сетью (HTTP API)

### Sprint 3
- **Роутинг**: полноценный клиентский роутер с поддержкой History API
- **HTTP API**: полная интеграция с backend API
  - Авторизация (регистрация, вход, выход)
  - Управление профилем (изменение данных, аватара, пароля)
  - Работа с чатами (создание, список, управление участниками)
- **WebSocket**: real-time обмен сообщениями
- **Store**: централизованное управление состоянием приложения
- **Защита роутов**: проверка авторизации пользователя

## Архитектура

Проект использует компонентный подход с базовыми классами:

- **Block** - базовый класс для всех компонентов. Управляет жизненным циклом компонента (инициализация, монтирование, обновление), рендерингом через Handlebars и обработкой событий
- **EventBus** - реализация паттерна Observer для внутренней коммуникации компонентов. Позволяет подписываться на события, отписываться и вызывать обработчики
- **HTTPTransport** - класс для выполнения HTTP-запросов. Предоставляет методы GET, POST, PUT, DELETE с поддержкой таймаутов и обработки ошибок
- **Router** - клиентский роутер с поддержкой History API. Обеспечивает навигацию между страницами без перезагрузки, поддерживает кнопки "Назад" и "Вперёд"
- **Store** - централизованное хранилище состояния приложения с поддержкой подписок на изменения
- **WebSocketClient** - класс для работы с WebSocket соединением и real-time обменом сообщениями

## Функциональность чатов

### Создание чата
1. На странице `/messenger` воспользуйтесь поиском пользователей
2. Введите логин пользователя, с которым хотите начать чат
3. Выберите пользователя из результатов поиска
4. В открывшемся диалоге введите название чата (можно оставить предложенное или изменить)
5. Нажмите "Создать" - чат появится в списке чатов, и выбранный пользователь будет добавлен в него

### Добавление пользователя в существующий чат
1. Выберите чат из списка
2. Нажмите на кнопку настроек чата (три точки в правом верхнем углу)
3. Выберите "Добавить пользователя"
4. Введите логин пользователя в поле поиска
5. Выберите пользователя из списка результатов
6. Нажмите "Добавить"

### Удаление пользователя из чата
1. Выберите чат из списка
2. Нажмите на кнопку настроек чата
3. Выберите "Удалить пользователя"
4. Выберите пользователя из списка участников чата
5. Нажмите "Удалить"

### Отправка сообщений
1. Выберите чат из списка
2. Введите текст сообщения в поле ввода внизу
3. Нажмите Enter или кнопку отправки
4. Сообщения обновляются в реальном времени для всех участников чата

## Макеты

Ссылка на [макеты](https://www.figma.com/file/jF5fFFzgGOxQeB4CmKWTiE/Chat_external_link?node-id=0%3A1)

## Ссылка на [задеплоенный проект](https://messenger202512.netlify.app/)

## Роуты приложения

- [/](https://messenger202512.netlify.app/) - страница входа (авторизация)
- [/sign-up](https://messenger202512.netlify.app/sign-up) - страница регистрации
- [/messenger](https://messenger202512.netlify.app/messenger) - главная страница с чатами и сообщениями
- [/settings](https://messenger202512.netlify.app/settings) - настройки профиля пользователя
- [/settings/edit-data](https://messenger202512.netlify.app/settings/edit-data) - редактирование данных профиля
- [/settings/edit-password](https://messenger202512.netlify.app/settings/edit-password) - изменение пароля
- [/error](https://messenger202512.netlify.app/error) - страница ошибки 500
- [/not-found](https://messenger202512.netlify.app/not-found) - страница 404

## Технологии

- TypeScript
- Handlebars
- SCSS
- Vite
- WebSocket
- History API

## Команды

Установка зависимостей:
```bash
npm install
```


Запуск в режиме разработки
```bash
npm run dev
```


Сборка проекта
```bash
npm run build
```
